!function(e){var t,n,s,a,i,r;n=function(e){return new RegExp("(^|\\s+)"+e+"(\\s+|$)")},r=function(e,n){var s;(s=a(e,n)?i:t)(e,n)},a=void 0,t=void 0,i=void 0,"classList"in document.documentElement?(a=function(e,t){return e.classList.contains(t)},t=function(e,t){e.classList.add(t)},i=function(e,t){e.classList.remove(t)}):(a=function(e,t){return n(t).test(e.className)},t=function(e,t){a(e,t)||(e.className=e.className+" "+t)},i=function(e,t){e.className=e.className.replace(n(t)," ")}),s={hasClass:a,addClass:t,removeClass:i,toggleClass:r,has:a,add:t,remove:i,toggle:r},"function"==typeof define&&define.amd?define(s):"object"==typeof exports?module.exports=s:e.classie=s}(window),function(e){var t,n,s,a,i,r,o,c,l,d,u,f,p,m,v,y,g,h,k,b;i=function(){t(),r()},t=function(){var e,t,n,i;for(i=a(),e=0;v>e;)t=m[e],n=i.indexOf(e),s!=e?(classie.add(t,"page--inactive"),-1!=n?(t.style.WebkitTransform="translate3d(0,100%,0)",t.style.transform="translate3d(0,100%,0)"):(t.style.WebkitTransform="translate3d(0,75%,-300px)",t.style.transform="translate3d(0,75%,-300px)")):classie.remove(t,"page--inactive"),t.style.zIndex=s>e?parseInt(s-e):parseInt(v+s-e),-1!=n?t.style.opacity=parseFloat(1-.1*n):t.style.opacity=0,++e},r=function(){c.addEventListener("click",h),d.forEach(function(e){var t;t=e.getAttribute("href").slice(1),e.addEventListener("click",function(e){e.preventDefault(),p(t)})}),m.forEach(function(e){var t;t=e.getAttribute("id"),e.addEventListener("click",function(e){o&&(e.preventDefault(),p(t))})}),document.addEventListener("keydown",function(e){var t;o&&(t=e.keyCode||e.which,27==t&&n())})},h=function(){o?n():(f(),o=!0)},f=function(){var e,t,n,s;for(classie.add(c,"menu-button--open"),classie.add(y,"pages-stack--open"),classie.add(l,"pages-nav--open"),s=a(),e=0,t=s.length;t>e;)n=m[s[e]],n.style.WebkitTransform="translate3d(0, 75%, "+parseInt(-200-50*e)+"px)",n.style.transform="translate3d(0, 75%, "+parseInt(-200-50*e)+"px)",++e},n=function(){p()},p=function(e){var n,i,r,d,f,p;for(i=e?document.getElementById(e):m[s],n=m.indexOf(i),p=a(n),i.style.WebkitTransform="translate3d(0, 0, 0)",i.style.transform="translate3d(0, 0, 0)",i.style.opacity=1,r=0,d=p.length;d>r;)f=m[p[r]],f.style.WebkitTransform="translate3d(0,100%,0)",f.style.transform="translate3d(0,100%,0)",++r;e&&(s=n),classie.remove(c,"menu-button--open"),classie.remove(l,"pages-nav--open"),u(i,function(){classie.remove(y,"pages-stack--open"),t(),o=!1})},a=function(e){var t,n,a,i;return a=v>s+1?s+1:0,i=v>s+2?s+2:1,n=[],t=e||-1,e!=s&&n.push(s),e!=a&&n.push(a),e!=i&&n.push(i),n},g={transitions:Modernizr.csstransitions},b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",msTransition:"MSTransitionEnd",transition:"transitionend"},k=b[Modernizr.prefixed("transition")],u=function(e,t){var n;n=function(e){if(g.transitions){if(e.target!=this)return;this.removeEventListener(k,n)}t&&"function"==typeof t&&t.call(this)},g.transitions?e.addEventListener(k,n):n()},y=document.querySelector(".pages-stack"),m=[].slice.call(y.children),v=m.length,s=0,c=document.querySelector("button.menu-button"),l=document.querySelector(".pages-nav"),d=[].slice.call(l.querySelectorAll(".link--page")),o=!1,i()}(window);